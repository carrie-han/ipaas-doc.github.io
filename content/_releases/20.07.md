---
version: 20.07
releaseDate: 2020-02-13
layout: release-new
title: 20.07 Platform Release
description: Details of the 20.07 platform release from the 13th of February 2020
---

<!-- ------------------------------------------------------------ -->
<!-- Features Overview -->
<!-- ------------------------------------------------------------ -->
{% capture features %}
<li class="overview__go" markdown="1">
[UI](#ui)
</li>
<li class="overview__go" markdown="1">
[Other](#other)
</li>
{% endcapture %}
<!-- ------------------------------------------------------------ -->
<!-- Features Article -->
<!-- ------------------------------------------------------------ -->
{% capture featuresArticle %}
<div id="features" class="article__content" markdown="1">

## UI

You can now see all your logs on the dedicated Logs Page, located near the Executions Page in Analyze section of the Navigational Menu:
![Logs Page link](/assets/img/RN/20.07/logs-page.png)

While the most important logs are seen on the [Executions](/getting-started/executions.html) Page, we decided no to spam you with everything else, and created a special page for all the logs. The new page lists all the logs for all the Flows in the given workspace. You can filter the list by:

- Flow name:
![Flow name logs filtering](/assets/img/getting-started/logs-page/filter-by-flow.png)

- Time period:
![Time interval logs filtering](/assets/img/getting-started/logs-page/filter-by-time.png)

- Log level:
![Level log filtering](/assets/img/getting-started/logs-page/filter-by-level.png)

Or just use in-built search:

![Logs search](/assets/img/getting-started/logs-page/search-logs.png)

You can read more about the Logs Page [here](/getting-started/logs-page.html).

Also, you can see all the logs and filter them [via the API](#ui-stuff).

Additionally, you can now switch between Integrator & Developer modes in the New Mapper without losing any data that you have entered. However, if the root of the JSONata expression is a function, switching to Integrator mode is not possible.

For components, which use sailor version 2.6.0 and higher, you can now disable passthrough during Flow creation/editing via the UI:
![Disable Passthrough](/assets/img/RN/20.07/disable-passthrough.png)

## Other
You can use REST client component with APIs using OAuth. Just select OAuth2 as credential type. There are four mandatory fields (`client_Id, client_secret, auth_uri, token_uri`) and two optional (`scopes` and `additional parameters`).


</div>
{% endcapture %}

<!-- ------------------------------------------------------------ -->
<!-- Bugs Overview -->
<!-- ------------------------------------------------------------ -->
{% capture bugs %}
<li class="overview__go" markdown="1">
  [List of fixed bugs](#list-of-fixed-bugs)
</li>
{% endcapture %}
<!-- ------------------------------------------------------------ -->
<!-- Bugs Article -->
<!-- ------------------------------------------------------------ -->
{% capture bugsArticle %}
<div id="bugs" class="article__content" markdown="1">

## List Of Fixed Bugs

We were totally dedicated to improvements this month, so all the discovered bugs were immediately fixed before going into production.

</div>
{% endcapture %}

<!-- ------------------------------------------------------------ -->
<!-- Details Overview -->
<!-- ------------------------------------------------------------ -->
{% capture details %}
<li class="overview__go" markdown="1">
  [UI Stuff](#ui-stuff)
</li>
{% endcapture %}
<!-- ------------------------------------------------------------ -->
<!-- Details Article -->
<!-- ------------------------------------------------------------ -->
{% capture detailsArticle %}
<div id="details" class="article__content" markdown="1">

## UI Stuff
**To activate the Logs Page, you need to go through the following steps:**

### Import Graylog Extractors
Import Graylog extractors for flow steps and one-time execs input (`System->Inputs->Input for flow steps and one-time execs->Manage extractors->Actions->Import extractors`):

```
{
  "extractors": [
    {
      "title": "Extract threadId",
      "extractor_type": "regex",
      "converters": [],
      "order": 0,
      "cursor_strategy": "copy",
      "source_field": "message",
      "target_field": "threadId",
      "extractor_config": {
        "regex_value": "\"threadId\" ?: ?\"([a-z0-9-]+)\""
      },
      "condition_type": "none",
      "condition_value": ""
    },
    {
      "title": "Copy message to msg",
      "extractor_type": "copy_input",
      "converters": [],
      "order": 1,
      "cursor_strategy": "copy",
      "source_field": "message",
      "target_field": "msg",
      "extractor_config": {},
      "condition_type": "none",
      "condition_value": ""
    },
    {
      "title": "Try to parse JSON from message to msg",
      "extractor_type": "regex",
      "converters": [],
      "order": 2,
      "cursor_strategy": "copy",
      "source_field": "message",
      "target_field": "msg",
      "extractor_config": {
        "regex_value": "\"msg\" ?: ?\"(.*?)(?<!\\\\)\""
      },
      "condition_type": "none",
      "condition_value": ""
    }
  ],
  "version": "2.4.7"
}
```

### Create Graylog Custom Mapping
```
curl -X PUT -H 'Content-Type: application/json' 'http://{GRAYLOG_HOST}:9200/_template/graylog-custom-mapping?pretty' -d '
{
    "template": "graylog_*",
    "mappings" : {
        "message" : {
            "properties" : {
                "msg" : {
                    "type" : "string",
                    "analyzer" : "standard"
                }
            }
        }
    }
}'
```

### Rotate Graylog Active Write Index
`System->Indices->Default index set->Maintenance->Rotate active write index`

**To customize Graylog, you need to go through the following steps:**

### Apply New mapping
```
curl -X PUT -H 'Content-Type: application/json' 'http://{GRAYLOG_HOST}:9200/_template/graylog-custom-mapping?pretty' -d '
{
    "template": "{INDEX_TEMPLATE}",
    "settings": {
        "index": {
            "analysis": {
                "analyzer": {
                    "analyzer_keyword": {
                        "filter": "lowercase",
                        "tokenizer": "keyword"
                    }
                }
            }
        }
    },
    "mappings": {
        "message": {
            "properties": {
                "msg": {
                    "type": "text",
                    "analyzer": "analyzer_keyword"
                }
            }
        }
    }
}
'
```

Where: `GRAYLOG_HOST` - graylog server, `IP INDEX_TEMPLATE` - configured graylog index set template (defaults to `graylog_*`)

### Rotate Graylog Active Write Index
`System->Indices->Default index set->Maintenance->Rotate active write index`

**To filter logs by log level:**

Added levels parameter (array): `levels[]=10&levels[]=20`

The possible levels: 1 - None (log level None means default log level when itâ€™s not passed), 10 - trace, 20 - debug, 30 - info, 40 - warn, 50 - error, 60 - fatal.

The API docs are [here]({{site.data.tenant.apiBaseUri}}/docs/v2/#retrieve-all-workspace-logs).

Since we don't use JSON extract on prod anymore, we need to add extractor to extract level.

Instruction Import new set of graylog extractors: (`System -> Inputs -> Input for flow steps and one-time execs -> Manage extractors -> Actions -> Import extractors`)

```
{
  "extractors": [
    {
      "title": "Extract threadId",
      "extractor_type": "regex",
      "converters": [],
      "order": 0,
      "cursor_strategy": "copy",
      "source_field": "message",
      "target_field": "threadId",
      "extractor_config": {
        "regex_value": "\"threadId\" ?: ?\"([a-z0-9-]+)\""
      },
      "condition_type": "none",
      "condition_value": ""
    },
    {
      "title": "Extract level",
      "extractor_type": "regex",
      "converters": [],
      "order": 1,
      "cursor_strategy": "copy",
      "source_field": "message",
      "target_field": "level",
      "extractor_config": {
        "regex_value": "\"level\" ?: ?([0-9-]+)"
      },
      "condition_type": "none",
      "condition_value": ""
    },
    {
      "title": "Copy message to msg",
      "extractor_type": "copy_input",
      "converters": [],
      "order": 2,
      "cursor_strategy": "copy",
      "source_field": "message",
      "target_field": "msg",
      "extractor_config": {},
      "condition_type": "none",
      "condition_value": ""
    },
    {
      "title": "Try to parse JSON from message to msg",
      "extractor_type": "regex",
      "converters": [],
      "order": 3,
      "cursor_strategy": "copy",
      "source_field": "message",
      "target_field": "msg",
      "extractor_config": {
        "regex_value": "\"msg\" ?: ?\"(.*?)(?<!\\\\)\""
      },
      "condition_type": "none",
      "condition_value": ""
    }
  ],
  "version": "2.4.7"
}
```
</div>
{% endcapture %}

<!-- ------------------------------------------------------------ -->
<!-- Include Release Overview -->
<!-- ------------------------------------------------------------ -->
{% include overview.html features=features bugs=bugs details=details %}

<!-- ------------------------------------------------------------ -->
<!-- Include Features Article -->
<!-- ------------------------------------------------------------ -->
{% include release_article.html overview=features article=featuresArticle data=site.data.overview.features %}
{% include release_article.html overview=bugs article=bugsArticle data=site.data.overview.bugs %}
{% include release_article.html overview=details article=detailsArticle data=site.data.overview.details %}
